{% extends 'db/base.html' %}
{% load static %}
{% block title %}
<title >RWAMdb - Documentation</title>
{% endblock title %}

{% block content %}
<div class="container"  style="min-height:400px;padding: 10px 30px;">
    <div class="row">
        <div class="col-lg-10 col-xs-12">
            <div data-bs-spy="scroll" data-bs-target="#list-example" data-bs-smooth-scroll="true" class="scrollspy-example" tabindex="0">

                <div class="section"  id="section_1" style="padding-top:0;">
                    <h1 class="doc_h1" >Tutorial</h1>
                    <hr style="margin-bottom:20px;">
                    <h2 class="doc_h2">1. Browse</h2>
                    <h3 class="doc_h3">1.1 Select taxonomic hierarchy.</h3>
                    <img class="doc_img" src="{% static 'db/images/doc/1.1.png' %}">
                    <h3 class="doc_h3">1.2 Browse radial tree</h3>
                    <p class="doc_p">Click on tree nodes to view MAGs associated with the corresponding taxonomic path.</p>
                    <img class="doc_img" style="width: 60%;" src="{% static 'db/images/doc/1.2.png' %}">
                    <h3 class="doc_h3">1.3 Result</h3>
                    <img class="doc_img" style="width: 60%;" src="{% static 'db/images/doc/1.3.png' %}">

                    <h2 class="doc_h2">2. Search</h2>
                    <h3 class="doc_h3">2.1 Quick search</h3>
                    <p class="doc_p">Quick search, this feature is available on all pages through the navigation bar, allowing users to search by keywords.</p>
                    <img class="doc_img" src="{% static 'db/images/doc/2.1.png' %}">

                    <h3 class="doc_h3">2.2 Search bar</h3>
                    <p class="doc_p">On the Search page, data can be searched by entering taxonomy name, MAG ID, Sample ID, or Site ID in the Search bar.</p>
                    <img class="doc_img" style="width: 60%;" src="{% static 'db/images/doc/2.2.png' %}">

                    <h3 class="doc_h3">2.3 Map search</h3>
                    <p class="doc_p">The Map on the Search page can be used to search for MAGs from specific Sites.</p>
                    <img class="doc_img" src="{% static 'db/images/doc/2.3.png' %}" >
                    <p class="doc_p" style="margin-bottom: 3px;">There are three different ways to choose sites:</p>
                    <ul class="doc_ul">
                        <li class="doc_p">(1) Click on the site marker on the Map to individually select or deselect a site.</li>
                        <li class="doc_p">(2) Use the Draw select tool at the bottom right to draw a selection area on the map, selecting multiple Sites. </li>
                        <li class="doc_p">(3) Click the checkbox at the top right to select Sites by type.</li>
                    </ul>

                    <h3 class="doc_h3">2.4 Filter</h3>
                    <p class="doc_p">You can filter MAG search results based on relative abundance, assembly metrics, and the completeness of six carbon fixation pathways.</p>
                    <div class="row justify-content-center" >
                        <img style="width: 567px;" src="{% static 'db/images/doc/2.4.1.png' %}" alt="2.4.1">
                        <img style="width: 567px;" src="{% static 'db/images/doc/2.4.2.png' %}" alt="2.4.2">
                    </div>
                    <h2 class="doc_h2">3. Blast</h2>
                    <h3 class="doc_h3">3.1 Method and Set</h3>
                    <div class="table-container1">
                        <table class="table table-bordered" >
                            <thead>
                                <tr style="background-color: #4489c7;color:white;">
                                    <th scope="col">Method</th>
                                    <th scope="col">Input type</th>
                                    <th scope="col">Database type</th>
                                    <th scope="col">Function</th>
                                    <th scope="col">Available database</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr >
                                    <td >blastn</td>
                                    <td >Nucleic acid sequence</td>
                                    <td >Nucleic Acid Database</td>
                                    <td >Align nucleic acid sequences (DNA or RNA) with nucleic acid databases.</td>
                                    <td >RWAMdb</td>
                                </tr>
                                <tr >
                                    <td >blastx</td>
                                    <td >Nucleic acid sequence</td>
                                    <td >Protein database</td>
                                    <td >Translate nucleic acid sequences (such as cDNA or mRNA sequences) into protein sequences in six reading frameworks and compare them with protein databases.</td>
                                    <td >Rubisco</td>
                                </tr>
                                <tr >
                                    <td >blastp</td>
                                    <td >Protein sequence</td>
                                    <td >Protein database</td>
                                    <td >Align protein sequences with protein databases to identify similar sequences and infer functional and evolutionary relationships.</td>
                                    <td >Rubisco</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <h3 class="doc_h3">3.2 Parameters</h3>
                    <div class="table-container1">
                        <table class="table table-bordered" >
                            <thead>
                                <tr style="background-color: #4489c7;color:white;">
                                    <th scope="col">Parameter</th>
                                    <th scope="col">Function</th>
                                    <th scope="col">Available method</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr >
                                    <td >E-value</td>
                                    <td >Sets the minimum similarity percentage for comparison results. Used to filter out comparisons with similarity below the threshold.</td>
                                    <td >blastn, blastx, blastp</td>
                                </tr>
                                <tr >
                                    <td >Max target sequences</td>
                                    <td >Sets the maximum number of alignment results returned for each query sequence.</td>
                                    <td >blastn, blastx, blastp</td>
                                </tr>
                                <tr >
                                    <td >Percent identity</td>
                                    <td >Sets the minimum similarity percentage for comparison results. Used to filter out comparisons with similarity below the threshold.</td>
                                    <td >blastn</td>
                                </tr>
                                <tr >
                                    <td >Word size</td>
                                    <td >Determines the length of the initial “word” (substring) used in alignment seed searches. Smaller word sizes can increase sensitivity but may slow down searches.</td>
                                    <td >blastn, blastx, blastp</td>
                                </tr>
                                <tr >
                                    <td >Gap opening penalty</td>
                                    <td >Sets the penalty for opening a gap in the alignment. This influences the alignment score by penalizing gaps, which can help avoid alignment overfitting.</td>
                                    <td >blastn, blastx, blastp</td>
                                </tr>
                                <tr >
                                    <td >Gap extension penalty</td>
                                    <td >Sets the penalty for extending an existing gap. This helps balance between penalizing short vs. long gaps.</td>
                                    <td >blastn, blastx, blastp</td>
                                </tr>
                                <tr >
                                    <td >Mismatch penalty</td>
                                    <td >Sets the penalty score for nucleotide mismatches. A negative score is assigned to mismatches to reduce alignment score.</td>
                                    <td >blastn</td>
                                </tr>
                                <tr >
                                    <td >Match reward</td>
                                    <td >Specifies the reward score for a nucleotide match. This increases the score of alignments with exact matches.</td>
                                    <td >blastn</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                    <h3 class="doc_h3">3.3 Result</h3>
                    <div class="table-container1">
                        <table class="table table-bordered" style="width: auto;">
                            <tbody>
                               <tr ><th scope="col" style="background-color: #4489c7;color:white;">qseqid</th><td >Query sequence ID</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">sseqid</th><td >Subject sequence ID</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">pident</th><td >Percentage of identical matches</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">length</th><td >Alignment length</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">mismatch</th><td >Number of mismatches</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">gapopen</th><td >Number of gap openings</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">qstart</th><td >Start of alignment in query</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">qend</th><td >End of alignment in query</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">sstart</th><td >Start of alignment in subject</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">send</th><td >End of alignment in subject</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">evalue</th><td >Expect value</td></tr>
                                <tr ><th scope="col" style="background-color: #4489c7;color:white;">bitscore</th><td >Bit score</td></tr>
                            </tbody>
                        </table>
                    </div>

                </div>

                <div id="section_2" class="section">
                    <h1 class="doc_h1" >About</h1>
                    <hr style="margin-bottom:20px;">
                    <p class="doc_p" >RWAMdb is free and open to all users and there is no login requirement. The online service is compatible with various internet browsers.</p>
                    Table. Browser compatibility.
                    <table class="table table-bordered mb-0" style="width: auto;">
                      <thead>
                        <tr >
                          <th>OS</th>
                          <th>Version</th>
                          <th>Chrome</th>
                          <th>Firefox</th>
                          <th>Microsoft Edge</th>
                          <th>Safari</th>
                        </tr>
                      </thead>
                      <tbody>
                          <tr>
                              <th>Linux</th>
                              <td>Ubuntu 18.04</td>
                              <td>96.0.4664.110</td>
                              <td>92.0</td>
                              <td><span style="font-style:italic;">N</span>/<span style="font-style:italic;">A</span></td>
                              <td><span style="font-style:italic;">N</span>/<span style="font-style:italic;">A</span></td>
                          </tr>
                          <tr>
                              <th>MacOS</th>
                              <td>HighSierra</td>
                              <td>96.0.4664.101</td>
                              <td>95.0</td>
                              <td><span style="font-style:italic;">N</span>/<span style="font-style:italic;">A</span></td>
                              <td>12.1</td>
                            </tr>
                          <tr>
                              <th>Windows</th>
                              <td>10</td>
                              <td>132.0.6834.83</td>
                              <td>95.0</td>
                              <td>132.0.2957.115</td>
                              <td><span style="font-style:italic;">N</span>/<span style="font-style:italic;">A</span></td>
                            </tr>
                      </tbody>

                    </table>

                </div>

                <div id="section_3" class="section">

                     <h1 class="doc_h1">FAQ</h1>
                     <hr style="margin-bottom:20px;">
                     <h4 class="doc_p" style="font-weight:bold;margin-bottom:8px;">1. Q: What should be done if part of the radial tree on the Browse page is obscured?</h4>
                     <p  class="doc_p" style="text-indent:20px;">A: Due to screen size limitations, when the data volume is large, only a portion of the radial tree is displayed to ensure the node names remain clear. Users can scroll within the tree area to zoom in or out, or drag the mouse within the tree area to move the tree.
                     </p>
                     <h4 class="doc_p" style="font-weight:bold;margin-bottom:8px;">2. Q: How can the complete radial tree be downloaded?</h4>
                     <p  class="doc_p" style="text-indent:20px;">A: After selecting the desired taxonomic hierarchy on the Browse page, simply click the download icon located above the tree.
                     </p>
                     <h4 class="doc_p" style="font-weight:bold;margin-bottom:8px;">3. Q: Why is the map not loading on the page?</h4>
                     <p  class="doc_p" style="text-indent:20px;">A: The map functionality is based on the AutoNavi Maps API. Due to network fluctuations, it may experience delays. If the map does not load after a prolonged period, please refresh the page.
                     </p>

                </div>

                <div id="section_4" class="section">
                    <h1 class="doc_h1" >Acknowledgments</h1>
                    <p class="doc_p">This work was supported by grants from the National Natural Science Foundation of China (NSFC nos. 32025024, 92251305 and 32430070 to L.C.; 32101246 to C.X.; 32301286 to S.L.), the Zhejiang Provincial NSFC (LZ24C030001 to L.C., LQ22C030006 to C.X., LQ24C030001 to J.X.) and the Academy of Ecological Civilization of Zhejiang University.</p>
                </div>

                <div id="section_5" class="section">
                    <h1 class="doc_h1" >Contact</h1>
                    <p  class="doc_p" ><strong>Lei Cheng</strong>, Ph. D., Professor<br>
                      Email: <a href="mailto:lcheng@zju.edu.cn">lcheng@zju.edu.cn</a><br>
                      College of Life Sciences<br>
                      Zhejiang University<br>
                      Zhejiang 310058, China<br>
                      <br>
                    </p>
                    <p  class="doc_p" ><strong>Yuxiang Wei</strong>, Ph. D candidate.<br>
                      Email: <a href="mailto:12407146@zju.edu.cn">12407146@zju.edu.cn</a><br>
                      College of Life Sciences<br>
                      Zhejiang University<br>
                      Zhejiang 310058, China<br>
                      <br>
                    </p>
                </div>

                <div id="section_6" class="section">
                    <h1 class="doc_h1" >Download</h1>
                    <p  class="doc_p" ><a href="{% static 'db/download/sites.xlsx' %}" download="sites.xlsx"><strong>Sites metadata.xlsx </strong>(24K)</a><br></p>
                    <p  class="doc_p" ><a href="{% static 'db/download/samples.xlsx' %}" download="samples.xlsx"><strong>Samples metadata.xlsx </strong>(30K)</a><br></p>
                    <p  class="doc_p" ><a href="{% static 'db/download/MAGs.xlsx' %}" download="MAGs.xlsx"><strong>MAGs metadata.xlsx </strong>(842K)</a><br></p>
                    <p  class="doc_p" ><a href="{% static 'db/download/M00165.xlsx' %}" download="M00165.xlsx"><strong>M00165: Reductive pentose phosphate cycle (Calvin cycle).xlsx </strong>(241K)</a><br></p>
                    <p  class="doc_p" ><a href="{% static 'db/download/M00173.xlsx' %}" download="M00173.xlsx"><strong>M00173: Reductive citrate cycle (Arnon-Buchanan cycle).xlsx </strong>(287K)</a><br></p>
                    <p  class="doc_p" ><a href="{% static 'db/download/M00374.xlsx' %}" download="M00374.xlsx"><strong>M00374: Dicarboxylate-hydroxybutyrate cycle.xlsx </strong>(248K)</a><br></p>
                    <p  class="doc_p" ><a href="{% static 'db/download/M00375.xlsx' %}" download="M00375.xlsx"><strong>M00375: Hydroxypropionate-hydroxybutylate cycle.xlsx </strong>(212K)</a><br></p>
                    <p  class="doc_p" ><a href="{% static 'db/download/M00376.xlsx' %}" download="M00376.xlsx"><strong>M00376: 3-Hydroxypropionate bi-cycle.xlsx </strong>(249K)</a><br></p>
                    <p  class="doc_p" ><a href="{% static 'db/download/M00377.xlsx' %}" download="M00377.xlsx"><strong>M00377: Reductive acetyl-CoA pathway (Wood-Ljungdahl pathway).xlsx </strong>(220K)</a><br></p>
                </div>

            </div>
        </div>
        <div class="col-2 d-none d-lg-block pt-4 mt-5 mx-auto" style="padding-right: 0">
            <div class="slide_div">
                <div id="list-example" class="list-group">
                  <a class="list-group-item list-group-item-action" href="#section_1">Tutorial</a>
                  <a class="list-group-item list-group-item-action" href="#section_2">About</a>
                  <a class="list-group-item list-group-item-action" href="#section_3">FAQ</a>
                  <a class="list-group-item list-group-item-action" href="#section_4">Acknowledgments</a>
                  <a class="list-group-item list-group-item-action" href="#section_5">Contact</a>
                  <a class="list-group-item list-group-item-action" href="#section_6">Download</a>


                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
{% block js %}
<script>
    $(function () {
        $(".loading").hide();
        $(".nav-link").eq(4).addClass('active');
    })
</script>

{% endblock js %}

